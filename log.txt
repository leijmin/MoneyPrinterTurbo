 SUCCESS | "./app\controllers\v1\video.py:90": create_task - Task created: {
    "task_id": "19a92ba1-9086-4597-a2c0-d4d6460b185e",
    "request_id": "03817b25-33f5-45cd-9db9-b977caeda4d3",
    "params": {
        "video_subject": "è¾£æ¤’ç²‰ç¢æœº",
        "video_script": "90%è€æ¿éƒ½ä¸çŸ¥é“ï¼Œé€‰å¯¹ç²‰ç¢æœºï¼Œæ¯å¹´å¯çœä¸‹å‡ ä¸‡ç”šè‡³å‡ åä¸‡ï¼æ‚¨æ˜¯å¦è¿˜åœ¨ä¸ºä¼ ç»Ÿç²‰ç¢æœºç²‰ç¢ä¸å‡ã€å¡æ–™ã€è¿‡çƒ­ã€æ•ˆç‡ä½è€Œå¤´ç—›ï¼Ÿç‰‡æ®µ1ï¼šçœ‹æˆ‘ä»¬å·¥å‚ç ”å‘çš„è¾£æ¤’ç²‰ç¢æœºï¼Œå¿«é€Ÿç²‰ç¢ï¼Œé¢—ç²’å‡åŒ€ï¼Œçœæ—¶çœåŠ›ï¼ç²¾ç»†ç ”ç£¨200ç›®ï¼Œå˜é¢‘è°ƒé€Ÿï¼Œæ™ºèƒ½æ§æ¸©ï¼Œç‰‡æ®µ2ï¼šè¿›æ–™é¡ºç•…ï¼Œæ“ä½œç®€ä¾¿ï¼Œé£Ÿå“çº§ä¸é”ˆé’¢ï¼Œä¸€æœºå¤šç”¨ï¼Œç‰‡æ®µ3ï¼šæ¹–å—é£Ÿå“å‚å®¢æˆ·è§è¯ï¼šç”¨äº†æˆ‘ä»¬çš„è¾£æ¤’ç²‰ç¢æœºï¼Œç”Ÿäº§æ•ˆç‡æå‡3å€ï¼Œæ¯å¹´èŠ‚çœ1ä¸‡ç”µè´¹ï¼å‚å®¶ç›´é”€ï¼Œé™æ—¶é€è¿è´¹ï¼Œ0é£é™©è¯•ç”¨ï¼Œ æ»¡æ„å†ä»˜æ¬¾ï¼è¯„è®ºåŒºå›å¤ã€ç²‰ç¢æœºã€‘ï¼Œé¢†å–å…è´¹è¯•æœºåé¢ï¼",
        "video_terms": "å¹²è¾£æ¤’ç²‰ç¢æœºï¼Œé£Ÿå“çº§è¾£æ¤’ç²‰ç¢æœºï¼Œè¾£æ¤’è¶…ç»†ç²‰ç¢æœºï¼Œå•†ç”¨è¾£æ¤’ç²‰ç¢æœºï¼Œè¾£æ¤’æ‰“ç²‰æœºï¼Œè¾£æ¤’ç£¨ç²‰æœºï¼Œè¾£æ¤’è¿›æ–™è®¾å¤‡ï¼Œä¸é”ˆé’¢è¾£æ¤’ç²‰ç¢æœºï¼Œçœç”µè¾£æ¤’ç²‰ç¢æœºï¼Œä¸‰ç›¸ç”µè¾£æ¤’ç²‰ç¢æœºï¼Œé«˜æ•ˆè¾£æ¤’ç²‰ç¢æœºï¼Œè¾£æ¤’åŠ å·¥ è®¾å¤‡ï¼Œè¾£æ¤’ç ”ç£¨æœºï¼Œå®¶ç”¨è¾£æ¤’ç²‰ç¢æœºï¼Œè¾£æ¤’ç‰‡ç²‰ç¢æœºï¼Œè¾£æ¤’ä¸“ç”¨ç²‰ç¢æœºï¼Œç²‰ç¢è¾£æ¤’æœºï¼Œè¾£æ¤’ç²—ç²‰æœºï¼Œè¾£æ¤’åˆ¶ç²‰æœºï¼Œè¶…ç»†è¾£æ¤’æœºã€‚",
        "video_aspect": "9:16",
        "video_concat_mode": "sequential",
        "video_transition_mode": "None",
        "video_clip_duration": 10,
        "video_count": 1,
        "video_source": "local",
        "video_materials": [
            {
                "provider": "local",
                "url": "C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\mix_videos_task-1743386507404_9mu9c_1z\\video_task-1743386507404_000.mp4",
                "duration": 0
            },
            {
                "provider": "local",
                "url": "C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\mix_videos_task-1743386507404_9mu9c_1z\\video_task-1743386507404_001.mp4",
                "duration": 0
            },
            {
                "provider": "local",
                "url": "C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\mix_videos_task-1743386507404_9mu9c_1z\\video_task-1743386507404_002.mp4",
                "duration": 0
            }
        ],
        "video_language": "zh-CN",
        "voice_name": "zh-CN-XiaoxiaoNeural",
        "voice_volume": 1.0,
        "voice_rate": 1.0,
        "bgm_type": "random",
        "bgm_file": "",
        "bgm_volume": 1.0,
        "subtitle_enabled": true,
        "subtitle_position": "bottom",
        "custom_position": 70.0,
        "font_name": "MicrosoftYaHeiNormal.ttc",
        "text_fore_color": "#FFFFFF",
        "text_background_color": false,
        "font_size": 8,
        "stroke_color": "#000000",
        "stroke_width": 1.5,
        "n_threads": 4,
        "paragraph_number": 1
    }
}
2025-03-31 10:48:10 | INFO | "./app\services\task.py:212": start - start task: 19a92ba1-9086-4597-a2c0-d4d6460b185e, stop_at: video
2025-03-31 10:48:10 | INFO | "./app\services\task.py:17": generate_script -

## generating video script
2025-03-31 10:48:10 | DEBUG | "./app\services\task.py:26": generate_script - video script: 
90%è€æ¿éƒ½ä¸çŸ¥é“ï¼Œé€‰å¯¹ç²‰ç¢æœºï¼Œæ¯å¹´å¯çœä¸‹å‡ ä¸‡ç”šè‡³å‡ åä¸‡ï¼æ‚¨æ˜¯å¦è¿˜åœ¨ä¸ºä¼ ç»Ÿç²‰ç¢æœºç²‰ç¢ä¸å‡ã€å¡æ–™ã€è¿‡çƒ­ã€æ•ˆç‡ä½è€Œå¤´ç—›ï¼Ÿç‰‡æ®µ1ï¼šçœ‹æˆ‘ä»¬å·¥å‚ç ”å‘çš„è¾£æ¤’ç²‰ç¢æœºï¼Œå¿«é€Ÿç²‰ç¢ï¼Œé¢—ç²’å‡åŒ€ï¼Œçœæ—¶çœåŠ›ï¼ç²¾ç»†ç ”ç£¨200ç›®ï¼Œå˜é¢‘è°ƒé€Ÿï¼Œæ™ºèƒ½æ§æ¸©ï¼Œç‰‡æ®µ2ï¼šè¿›æ–™é¡ºç•…ï¼Œæ“ä½œç®€ä¾¿ï¼Œé£Ÿå“çº§ä¸é”ˆé’¢ï¼Œä¸€æœºå¤šç”¨ï¼Œç‰‡æ®µ3ï¼šæ¹–å—é£Ÿå“å‚å®¢æˆ·è§è¯ï¼šç”¨äº†æˆ‘ä»¬çš„è¾£æ¤’ç²‰ç¢æœºï¼Œç”Ÿäº§æ•ˆç‡æå‡3å€ï¼Œæ¯å¹´èŠ‚çœ1ä¸‡ç”µè´¹ï¼å‚å®¶ç›´é”€ï¼Œé™æ—¶é€è¿è´¹ï¼Œ0é£é™©è¯•ç”¨ï¼Œæ»¡æ„å†ä»˜æ¬¾ï¼è¯„è®ºåŒºå›å¤ã€ç²‰ç¢æœºã€‘ï¼Œé¢†å–å…è´¹è¯•æœºåé¢ï¼
2025-03-31 10:48:10 | INFO | "./app\services\task.py:74": generate_audio -

## generating audio
2025-03-31 10:48:10 | INFO | "./app\services\voice.py:1083": azure_tts_v1 - start, voice name: zh-CN-XiaoxiaoNeural, try: 1
2025-03-31 10:48:11 | INFO | "./app\services\voice.py:1103": azure_tts_v1 - completed, output file: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\audio.mp3
2025-03-31 10:48:11 | INFO | "./app\services\task.py:102": generate_subtitle - 

## generating subtitle, provider: edge
2025-03-31 10:48:11 | INFO | "./app\services\voice.py:1288": create_subtitle - completed, subtitle file created: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\subtitle.srt, duration: 48.75
2025-03-31 10:48:11 | INFO | "./app\services\task.py:128": get_video_materials -

## preprocess local materials
2025-03-31 10:48:11 | INFO | "./app\services\task.py:129": get_video_materials - params: video_subject='è¾£æ¤’ç²‰ç¢æœº' video_script='90%è€æ¿éƒ½ä¸çŸ¥é“ï¼Œé€‰å¯¹ç²‰ç¢æœºï¼Œæ¯å¹´å¯çœä¸‹å‡ ä¸‡ç”šè‡³å‡ åä¸‡ï¼æ‚¨æ˜¯å¦è¿˜åœ¨ä¸ºä¼ ç»Ÿç²‰ç¢æœºç²‰ç¢ä¸å‡ã€å¡æ–™ã€è¿‡çƒ­ã€æ•ˆç‡ä½è€Œå¤´ç—›ï¼Ÿç‰‡æ®µ1ï¼šçœ‹æˆ‘ä»¬å·¥å‚ç ”å‘çš„è¾£æ¤’ç²‰ç¢æœºï¼Œå¿«é€Ÿç²‰ç¢ï¼Œé¢—ç²’å‡åŒ€ï¼Œçœæ—¶çœåŠ›ï¼ç²¾ç»†ç ”ç£¨200ç›®ï¼Œå˜é¢‘è°ƒé€Ÿï¼Œæ™ºèƒ½æ§æ¸©ï¼Œç‰‡æ®µ2ï¼šè¿›æ–™é¡ºç•…ï¼Œæ“ä½œç®€ä¾¿ï¼Œé£Ÿå“çº§ä¸é”ˆé’¢ï¼Œä¸€æœºå¤šç”¨ï¼Œç‰‡æ®µ3ï¼šæ¹–å— é£Ÿå“å‚å®¢æˆ·è§è¯ï¼šç”¨äº†æˆ‘ä»¬çš„è¾£æ¤’ç²‰ç¢æœºï¼Œç”Ÿäº§æ•ˆç‡æå‡3å€ï¼Œæ¯å¹´èŠ‚çœ1ä¸‡ç”µè´¹ï¼å‚å®¶ç›´é”€ï¼Œé™æ—¶é€è¿è´¹ï¼Œ0é£é™©è¯•ç”¨ï¼Œæ»¡æ„å†ä»˜æ¬¾ï¼è¯„è®ºåŒºå›å¤ã€ç²‰ç¢æœºã€‘ï¼Œé¢†å–å…è´¹è¯•æœºåé¢ï¼' video_terms='å¹²è¾£æ¤’ç²‰ç¢æœºï¼Œé£Ÿå“çº§è¾£æ¤’ç²‰ç¢æœº ï¼Œè¾£æ¤’è¶…ç»†ç²‰ç¢æœºï¼Œå•†ç”¨è¾£æ¤’ç²‰ç¢æœºï¼Œè¾£æ¤’æ‰“ç²‰æœºï¼Œè¾£æ¤’ç£¨ç²‰æœºï¼Œè¾£æ¤’è¿›æ–™è®¾å¤‡ï¼Œä¸é”ˆé’¢è¾£æ¤’ç²‰ç¢æœºï¼Œçœç”µè¾£æ¤’ç²‰ç¢æœºï¼Œä¸‰ç›¸ç”µè¾£æ¤’ç²‰ç¢æœºï¼Œé«˜æ•ˆè¾£æ¤’ç²‰ç¢æœºï¼Œè¾£æ¤’åŠ å·¥è®¾å¤‡ï¼Œè¾£æ¤’ç ”ç£¨æœºï¼Œå®¶ç”¨è¾£æ¤’ç²‰ç¢æœºï¼Œè¾£æ¤’ç‰‡ç²‰ç¢æœºï¼Œè¾£æ¤’ä¸“ ç”¨ç²‰ç¢æœºï¼Œç²‰ç¢è¾£æ¤’æœºï¼Œè¾£æ¤’ç²—ç²‰æœºï¼Œè¾£æ¤’åˆ¶ç²‰æœºï¼Œè¶…ç»†è¾£æ¤’æœºã€‚' video_aspect=<VideoAspect.portrait: '9:16'> video_concat_mode=<VideoConcatMode.sequential: 'sequential'> video_transition_mode=<VideoTransitionMode.none: 'None'> video_clip_duration=10 video_count=1 video_source='local' video_materials=[MaterialInfo(provider='local', url='C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\mix_videos_task-1743386507404_9mu9c_1z\\video_task-1743386507404_000.mp4', duration=0), MaterialInfo(provider='local', url='C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\mix_videos_task-1743386507404_9mu9c_1z\\video_task-1743386507404_001.mp4', duration=0), MaterialInfo(provider='local', url='C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\mix_videos_task-1743386507404_9mu9c_1z\\video_task-1743386507404_002.mp4', duration=0)] video_language='zh-CN' voice_name='zh-CN-XiaoxiaoNeural' voice_volume=1.0 voice_rate=1.0 bgm_type='random' bgm_file='' bgm_volume=1.0 subtitle_enabled=True subtitle_position='bottom' custom_position=70.0 font_name='MicrosoftYaHeiNormal.ttc' text_fore_color='#FFFFFF' text_background_color=False font_size=8 stroke_color='#000000' stroke_width=1.5 n_threads=4 paragraph_number=1
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:218": _process_materials - è§†é¢‘å¤„ç†ä½¿ç”¨ç¼–ç å™¨: h264_nvenc
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:231": _process_materials - å¤„ç†ç´ æ [1/3]: video_task-1743386507404_000.mp4
2025-03-31 10:48:11 | INFO | "./app\services\video_metadata.py:245": get_video_metadata - ğŸ¬ è·å–è§†é¢‘å®Œæ•´å…ƒæ•°æ® | è·¯å¾„: C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000.mp4
2025-03-31 10:48:11 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:6fadf51d09d97b117ec6d929a9be2df2 (åŸºäº video_task-1743386507404_000.mp4)
2025-03-31 10:48:11 | INFO | "./app\services\cache_manager.py:103": get_metadata - â— ç¼“å­˜æœªå‘½ä¸­: video_task-1743386507404_000.mp4
2025-03-31 10:48:11 | INFO | "./app\services\video_metadata.py:267": get_video_metadata - âœ… ä½¿ç”¨MediaInfoè·å–è§†é¢‘å…ƒæ•°æ®
2025-03-31 10:48:11 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000.mp4
2025-03-31 10:48:11 | INFO | "./app\services\mediainfo.py:170": get_basic_metadata - ğŸ¬ MediaInfoåŸºæœ¬å…ƒæ•°æ®è·å–æˆåŠŸ: å®½=3840, é«˜=2160, æ—‹è½¬=90Â°, ç¼–ç =hevc
2025-03-31 10:48:11 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000.mp4
2025-03-31 10:48:11 | INFO | "./app\services\mediainfo.py:261": get_detailed_metadata - ğŸ¬ MediaInfoè¯¦ç»†å…ƒæ•°æ®è·å–æˆåŠŸ: å¸§ç‡=60.00fps, æ—¶é•¿=32.03ç§’
2025-03-31 10:48:11 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:6fadf51d09d97b117ec6d929a9be2df2 (åŸºäº video_task-1743386507404_000.mp4)
2025-03-31 10:48:11 | INFO | "./app\services\cache_manager.py:133": set_metadata - âœ… å…ƒæ•°æ®å·²å†™å…¥å†…å­˜ç¼“å­˜: video_task-1743386507404_000.mp4
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:373": _determine_processing_needs - æ ‡å‡†åŒ–æ—‹è½¬è§’åº¦: 90Â°
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:379": _determine_processing_needs - æ£€æµ‹åˆ°æ—‹è½¬è§†é¢‘ï¼šå®é™…å°ºå¯¸3840x2160ï¼Œæœ‰æ•ˆå°ºå¯¸2160x3840
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:411": _determine_processing_needs - æ£€æµ‹åˆ°è§†é¢‘æ—‹è½¬90Â°ï¼Œå°†ä½¿ç”¨ç‰©ç†æ—‹è½¬
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:416": _determine_processing_needs - ç«–å±æ—‹è½¬å†…å®¹æå‡20%ç ç‡ä»¥è¡¥å¿ç»†èŠ‚æŸå¤±
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:422": _determine_processing_needs - éœ€è¦ç¼–ç è½¬æ¢: hevc -> h264
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:443": _determine_processing_needs - 4Kè§†é¢‘å†…å®¹æå‡50%ç ç‡ä»¥ä¿æŒç”»è´¨
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:445": _determine_processing_needs - è§†é¢‘å¤„ç†é…ç½®: {'needs_processing': True, 'needs_rotation': True, 'needs_scaling': True, 'needs_padding': False, 'needs_encoding': True, 'needs_antialias': True, 'target_width': 1080, 'target_height': 1920, 'is_high_quality': True, 'is_4k': True, 'bitrate_boost': 1.7999999999999998}
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:586": _build_filter_string - åº”ç”¨ç‰©ç†æ—‹è½¬æ»¤é•œ: transpose=1
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:593": _build_filter_string - åº”ç”¨smartbluræ»¤é•œé˜²æ­¢æ—‹è½¬å¼•èµ·çš„é”¯é½¿
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:616": _build_filter_string - åº”ç”¨ç²¾ç¡®ç¼©æ”¾: 3840x2160 -> 1080x1920
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:625": _build_filter_string - æœ€ç»ˆæ»¤é•œä¸²: transpose=1,smartblur=3:0.8:0,scale=1080:1920:flags=lanczos,format=yuv420p
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:464": _execute_video_processing - ä½¿ç”¨NVENCç¼–ç ï¼Œè¿›è¡ŒGPUå…¼å®¹æ€§æ£€æŸ¥...
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:479": _execute_video_processing - ä½¿ç”¨ç®€åŒ–NVIDIAç¡¬ä»¶åŠ é€Ÿè®¾ç½®
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:816": _sanitize_gpu_params - ä¼˜åŒ–h264_nvencå‚æ•°: {'preset': 'p2', 'tune': 'hq'}
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:653": _build_ffmpeg_command - åº”ç”¨ç ç‡æå‡: 30000k -> 53999k (x1.80)
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:687": _build_ffmpeg_command - FFMPEGå‘½ä»¤: ffmpeg -y -hwaccel cuda -i C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000.mp4 -vf transpose=1,smartblur=3:0.8:0,scale=1080:1920:flags=lanczos,format=yuv420p -c:v h264_nvenc -b:v 53999k -maxrate 80999k -bufsize 107999k -preset p2 -tune hq -c:a aac -b:a 128k -metadata:s:v rotate=0 -metadata:s:v:0 rotate=0 C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000_processed.mp4
2025-03-31 10:48:11 | INFO | "./app\services\preprocess_video.py:700": _run_ffmpeg_command - ä½¿ç”¨ç¼–ç å™¨ h264_nvenc æ‰§è¡Œå‘½ä»¤
2025-03-31 10:48:11 | DEBUG | "./app\services\preprocess_video.py:701": _run_ffmpeg_command - å®Œæ•´å‘½ä»¤: ffmpeg -y -hwaccel cuda -i C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000.mp4 -vf transpose=1,smartblur=3:0.8:0,scale=1080:1920:flags=lanczos,format=yuv420p -c:v h264_nvenc -b:v 53999k -maxrate 80999k -bufsize 107999k -preset p2 -tune hq -c:a aac -b:a 128k -metadata:s:v rotate=0 -metadata:s:v:0 rotate=0 C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000_processed.mp4
2025-03-31 10:48:12 | INFO | "./app\services\preprocess_video.py:723": _run_ffmpeg_command - å¤„ç†è¿›åº¦: frame=   22 fps=0.0 q=11.0 size=    2048KiB time=00:00:00.36 bitrate=45757.0kbits/s speed=0.714x
2025-03-31 10:48:13 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=   68 fps= 66 q=11.0 size=    7168KiB time=00:00:01.13 bitrate=51812.3kbits/s speed=1.09x
2025-03-31 10:48:14 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  113 fps= 73 q=11.0 size=   12288KiB time=00:00:01.88 bitrate=53449.8kbits/s speed=1.22x
2025-03-31 10:48:14 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  160 fps= 77 q=13.0 size=   18944KiB time=00:00:02.66 bitrate=58196.1kbits/s speed=1.29x
2025-03-31 10:48:15 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  205 fps= 80 q=14.0 size=   25600KiB time=00:00:03.41 bitrate=61380.2kbits/s speed=1.33x
2025-03-31 10:48:15 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  251 fps= 81 q=15.0 size=   32256KiB time=00:00:04.18 bitrate=63165.3kbits/s speed=1.35x
2025-03-31 10:48:16 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  296 fps= 82 q=15.0 size=   37376KiB time=00:00:04.93 bitrate=62064.4kbits/s speed=1.37x
2025-03-31 10:48:16 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  340 fps= 83 q=14.0 size=   40960KiB time=00:00:05.66 bitrate=59213.8kbits/s speed=1.38x
2025-03-31 10:48:17 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  386 fps= 83 q=13.0 size=   44288KiB time=00:00:06.43 bitrate=56395.0kbits/s speed=1.38x
2025-03-31 10:48:17 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  432 fps= 84 q=12.0 size=   47616KiB time=00:00:07.20 bitrate=54176.5kbits/s speed= 1.4x
2025-03-31 10:48:18 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  477 fps= 84 q=13.0 size=   51200KiB time=00:00:07.95 bitrate=52758.6kbits/s speed= 1.4x
2025-03-31 10:48:18 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  523 fps= 84 q=12.0 size=   55296KiB time=00:00:08.71 bitrate=51967.7kbits/s speed=1.41x
2025-03-31 10:48:19 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  569 fps= 85 q=11.0 size=   59392KiB time=00:00:09.48 bitrate=51304.7kbits/s speed=1.42x
2025-03-31 10:48:19 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  615 fps= 85 q=11.0 size=   64000KiB time=00:00:10.25 bitrate=51150.1kbits/s speed=1.42x
2025-03-31 10:48:20 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  660 fps= 85 q=11.0 size=   68608KiB time=00:00:11.00 bitrate=51094.3kbits/s speed=1.42x
2025-03-31 10:48:20 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  707 fps= 86 q=11.0 size=   73984KiB time=00:00:11.78 bitrate=51435.1kbits/s speed=1.43x
2025-03-31 10:48:21 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  752 fps= 86 q=11.0 size=   78336KiB time=00:00:12.53 bitrate=51201.8kbits/s speed=1.43x
2025-03-31 10:48:21 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  799 fps= 86 q=11.0 size=   82944KiB time=00:00:13.31 bitrate=51024.6kbits/s speed=1.43x
2025-03-31 10:48:22 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  844 fps= 86 q=11.0 size=   88832KiB time=00:00:14.06 bitrate=51733.1kbits/s speed=1.44x
2025-03-31 10:48:22 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  890 fps= 86 q=12.0 size=   95488KiB time=00:00:14.83 bitrate=52735.2kbits/s speed=1.44x
2025-03-31 10:48:23 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  937 fps= 86 q=13.0 size=  102144KiB time=00:00:15.61 bitrate=53581.5kbits/s speed=1.44x
2025-03-31 10:48:23 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  982 fps= 87 q=14.0 size=  108800KiB time=00:00:16.36 bitrate=54457.6kbits/s speed=1.44x
2025-03-31 10:48:24 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1029 fps= 87 q=15.0 size=  117248KiB time=00:00:17.16 bitrate=55951.2kbits/s speed=1.45x
2025-03-31 10:48:24 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1074 fps= 87 q=15.0 size=  124672KiB time=00:00:17.91 bitrate=57003.5kbits/s speed=1.45x
2025-03-31 10:48:25 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1120 fps= 87 q=15.0 size=  130816KiB time=00:00:18.68 bitrate=57358.3kbits/s speed=1.45x
2025-03-31 10:48:25 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1167 fps= 87 q=15.0 size=  136960KiB time=00:00:19.46 bitrate=57635.8kbits/s speed=1.45x
2025-03-31 10:48:26 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1212 fps= 87 q=15.0 size=  141824KiB time=00:00:20.21 bitrate=57468.6kbits/s speed=1.45x
2025-03-31 10:48:26 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1259 fps= 87 q=15.0 size=  147200KiB time=00:00:21.00 bitrate=57422.0kbits/s speed=1.45x
2025-03-31 10:48:27 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1304 fps= 87 q=15.0 size=  152320KiB time=00:00:21.75 bitrate=57370.4kbits/s speed=1.45x
2025-03-31 10:48:27 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1350 fps= 87 q=15.0 size=  157184KiB time=00:00:22.51 bitrate=57186.6kbits/s speed=1.46x
2025-03-31 10:48:28 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1396 fps= 87 q=15.0 size=  161536KiB time=00:00:23.28 bitrate=56834.8kbits/s speed=1.46x
2025-03-31 10:48:28 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1442 fps= 87 q=15.0 size=  165632KiB time=00:00:24.05 bitrate=56418.2kbits/s speed=1.46x
2025-03-31 10:48:29 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1487 fps= 87 q=15.0 size=  169984KiB time=00:00:24.80 bitrate=56149.6kbits/s speed=1.46x
2025-03-31 10:48:29 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1534 fps= 87 q=14.0 size=  175360KiB time=00:00:25.58 bitrate=56151.8kbits/s speed=1.46x
2025-03-31 10:48:30 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1579 fps= 87 q=14.0 size=  180480KiB time=00:00:26.33 bitrate=56145.3kbits/s speed=1.46x
2025-03-31 10:48:31 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1624 fps= 88 q=14.0 size=  185856KiB time=00:00:27.08 bitrate=56216.6kbits/s speed=1.46x
2025-03-31 10:48:31 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1671 fps= 88 q=15.0 size=  190976KiB time=00:00:27.86 bitrate=56141.5kbits/s speed=1.46x
2025-03-31 10:48:32 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1716 fps= 88 q=14.0 size=  195584KiB time=00:00:28.61 bitrate=55989.2kbits/s speed=1.46x
2025-03-31 10:48:32 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1763 fps= 88 q=14.0 size=  200192KiB time=00:00:29.40 bitrate=55781.4kbits/s speed=1.46x
2025-03-31 10:48:33 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1808 fps= 88 q=14.0 size=  204544KiB time=00:00:30.15 bitrate=55576.3kbits/s speed=1.46x
2025-03-31 10:48:33 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1855 fps= 88 q=14.0 size=  208896KiB time=00:00:30.93 bitrate=55321.4kbits/s speed=1.46x
2025-03-31 10:48:33 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1900 fps= 88 q=14.0 size=  213248KiB time=00:00:31.68 bitrate=55137.1kbits/s speed=1.46x
2025-03-31 10:48:33 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1921 fps= 88 q=14.0 Lsize=  215502KiB time=00:00:32.03 bitrate=55111.1kbits/s speed=1.47x
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:751": _run_ffmpeg_command - å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œä½¿ç”¨ç¼–ç å™¨: h264_nvenc
2025-03-31 10:48:33 | SUCCESS | "./app\services\preprocess_video.py:556": _execute_video_processing - è§†é¢‘å¤„ç†æˆåŠŸ: video_task-1743386507404_000_processed.mp4
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:231": _process_materials - å¤„ç†ç´ æ [2/3]: video_task-1743386507404_001.mp4
2025-03-31 10:48:33 | INFO | "./app\services\video_metadata.py:245": get_video_metadata - ğŸ¬ è·å–è§†é¢‘å®Œæ•´å…ƒæ•°æ® | è·¯å¾„: C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001.mp4
2025-03-31 10:48:33 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:63ed2b2778e8212a09d42101513bacf8 (åŸºäº video_task-1743386507404_001.mp4)
2025-03-31 10:48:33 | INFO | "./app\services\cache_manager.py:103": get_metadata - â— ç¼“å­˜æœªå‘½ä¸­: video_task-1743386507404_001.mp4
2025-03-31 10:48:33 | INFO | "./app\services\video_metadata.py:267": get_video_metadata - âœ… ä½¿ç”¨MediaInfoè·å–è§†é¢‘å…ƒæ•°æ®
2025-03-31 10:48:33 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001.mp4
2025-03-31 10:48:33 | INFO | "./app\services\mediainfo.py:170": get_basic_metadata - ğŸ¬ MediaInfoåŸºæœ¬å…ƒæ•°æ®è·å–æˆåŠŸ: å®½=3840, é«˜=2160, æ—‹è½¬=90Â°, ç¼–ç =hevc
2025-03-31 10:48:33 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001.mp4
2025-03-31 10:48:33 | INFO | "./app\services\mediainfo.py:261": get_detailed_metadata - ğŸ¬ MediaInfoè¯¦ç»†å…ƒæ•°æ®è·å–æˆåŠŸ: å¸§ç‡=60.00fps, æ—¶é•¿=4.15ç§’
2025-03-31 10:48:33 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:63ed2b2778e8212a09d42101513bacf8 (åŸºäº video_task-1743386507404_001.mp4)
2025-03-31 10:48:33 | INFO | "./app\services\cache_manager.py:133": set_metadata - âœ… å…ƒæ•°æ®å·²å†™å…¥å†…å­˜ç¼“å­˜: video_task-1743386507404_001.mp4
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:373": _determine_processing_needs - æ ‡å‡†åŒ–æ—‹è½¬è§’åº¦: 90Â°
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:379": _determine_processing_needs - æ£€æµ‹åˆ°æ—‹è½¬è§†é¢‘ï¼šå®é™…å°ºå¯¸3840x2160ï¼Œæœ‰æ•ˆå°ºå¯¸2160x3840
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:411": _determine_processing_needs - æ£€æµ‹åˆ°è§†é¢‘æ—‹è½¬90Â°ï¼Œå°†ä½¿ç”¨ç‰©ç†æ—‹è½¬
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:416": _determine_processing_needs - ç«–å±æ—‹è½¬å†…å®¹æå‡20%ç ç‡ä»¥è¡¥å¿ç»†èŠ‚æŸå¤±
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:422": _determine_processing_needs - éœ€è¦ç¼–ç è½¬æ¢: hevc -> h264
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:443": _determine_processing_needs - 4Kè§†é¢‘å†…å®¹æå‡50%ç ç‡ä»¥ä¿æŒç”»è´¨
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:445": _determine_processing_needs - è§†é¢‘å¤„ç†é…ç½®: {'needs_processing': True, 'needs_rotation': True, 'needs_scaling': True, 'needs_padding': False, 'needs_encoding': True, 'needs_antialias': True, 'target_width': 1080, 'target_height': 1920, 'is_high_quality': True, 'is_4k': True, 'bitrate_boost': 1.7999999999999998}
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:586": _build_filter_string - åº”ç”¨ç‰©ç†æ—‹è½¬æ»¤é•œ: transpose=1
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:593": _build_filter_string - åº”ç”¨smartbluræ»¤é•œé˜²æ­¢æ—‹è½¬å¼•èµ·çš„é”¯é½¿
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:616": _build_filter_string - åº”ç”¨ç²¾ç¡®ç¼©æ”¾: 3840x2160 -> 1080x1920
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:625": _build_filter_string - æœ€ç»ˆæ»¤é•œä¸²: transpose=1,smartblur=3:0.8:0,scale=1080:1920:flags=lanczos,format=yuv420p
2025-03-31 10:48:33 | INFO | "./app\services\preprocess_video.py:464": _execute_video_processing - ä½¿ç”¨NVENCç¼–ç ï¼Œè¿›è¡ŒGPUå…¼å®¹æ€§æ£€æŸ¥...
2025-03-31 10:48:34 | INFO | "./app\services\preprocess_video.py:479": _execute_video_processing - ä½¿ç”¨ç®€åŒ–NVIDIAç¡¬ä»¶åŠ é€Ÿè®¾ç½®
2025-03-31 10:48:34 | INFO | "./app\services\preprocess_video.py:816": _sanitize_gpu_params - ä¼˜åŒ–h264_nvencå‚æ•°: {'preset': 'p2', 'tune': 'hq'}
2025-03-31 10:48:34 | INFO | "./app\services\preprocess_video.py:653": _build_ffmpeg_command - åº”ç”¨ç ç‡æå‡: 30000k -> 53999k (x1.80)
2025-03-31 10:48:34 | INFO | "./app\services\preprocess_video.py:687": _build_ffmpeg_command - FFMPEGå‘½ä»¤: ffmpeg -y -hwaccel cuda -i C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001.mp4 -vf transpose=1,smartblur=3:0.8:0,scale=1080:1920:flags=lanczos,format=yuv420p -c:v h264_nvenc -b:v 53999k -maxrate 80999k -bufsize 107999k -preset p2 -tune hq -c:a aac -b:a 128k -metadata:s:v rotate=0 -metadata:s:v:0 rotate=0 C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001_processed.mp4
2025-03-31 10:48:34 | INFO | "./app\services\preprocess_video.py:700": _run_ffmpeg_command - ä½¿ç”¨ç¼–ç å™¨ h264_nvenc æ‰§è¡Œå‘½ä»¤
2025-03-31 10:48:34 | DEBUG | "./app\services\preprocess_video.py:701": _run_ffmpeg_command - å®Œæ•´å‘½ä»¤: ffmpeg -y -hwaccel cuda -i C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001.mp4 -vf transpose=1,smartblur=3:0.8:0,scale=1080:1920:flags=lanczos,format=yuv420p -c:v h264_nvenc -b:v 53999k -maxrate 80999k -bufsize 107999k -preset p2 -tune hq -c:a aac -b:a 128k -metadata:s:v rotate=0 -metadata:s:v:0 rotate=0 C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001_processed.mp4
2025-03-31 10:48:35 | INFO | "./app\services\preprocess_video.py:723": _run_ffmpeg_command - å¤„ç†è¿›åº¦: frame=   25 fps=0.0 q=11.0 size=    2048KiB time=00:00:00.41 bitrate=40266.2kbits/s speed=0.801x
2025-03-31 10:48:35 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=   70 fps= 68 q=11.0 size=    5888KiB time=00:00:01.16 bitrate=41344.2kbits/s speed=1.13x
2025-03-31 10:48:36 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  116 fps= 75 q=10.0 size=   10240KiB time=00:00:01.93 bitrate=43389.6kbits/s speed=1.26x
2025-03-31 10:48:36 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  163 fps= 79 q=10.0 size=   15104KiB time=00:00:02.71 bitrate=45545.6kbits/s speed=1.32x
2025-03-31 10:48:37 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  208 fps= 81 q=10.0 size=   19200KiB time=00:00:03.46 bitrate=45371.2kbits/s speed=1.35x
2025-03-31 10:48:37 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  249 fps= 83 q=10.0 Lsize=   24266KiB time=00:00:04.15 bitrate=47901.0kbits/s speed=1.39x
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:751": _run_ffmpeg_command - å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œä½¿ç”¨ç¼–ç å™¨: h264_nvenc
2025-03-31 10:48:37 | SUCCESS | "./app\services\preprocess_video.py:556": _execute_video_processing - è§†é¢‘å¤„ç†æˆåŠŸ: video_task-1743386507404_001_processed.mp4
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:231": _process_materials - å¤„ç†ç´ æ [3/3]: video_task-1743386507404_002.mp4
2025-03-31 10:48:37 | INFO | "./app\services\video_metadata.py:245": get_video_metadata - ğŸ¬ è·å–è§†é¢‘å®Œæ•´å…ƒæ•°æ® | è·¯å¾„: C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002.mp4
2025-03-31 10:48:37 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:31da7f909a374585ade397cd6b21b3f0 (åŸºäº video_task-1743386507404_002.mp4)
2025-03-31 10:48:37 | INFO | "./app\services\cache_manager.py:103": get_metadata - â— ç¼“å­˜æœªå‘½ä¸­: video_task-1743386507404_002.mp4
2025-03-31 10:48:37 | INFO | "./app\services\video_metadata.py:267": get_video_metadata - âœ… ä½¿ç”¨MediaInfoè·å–è§†é¢‘å…ƒæ•°æ®
2025-03-31 10:48:37 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002.mp4
2025-03-31 10:48:37 | INFO | "./app\services\mediainfo.py:170": get_basic_metadata - ğŸ¬ MediaInfoåŸºæœ¬å…ƒæ•°æ®è·å–æˆåŠŸ: å®½=1920, é«˜=1080, æ—‹è½¬=270Â°, ç¼–ç =avc
2025-03-31 10:48:37 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002.mp4
2025-03-31 10:48:37 | INFO | "./app\services\mediainfo.py:261": get_detailed_metadata - ğŸ¬ MediaInfoè¯¦ç»†å…ƒæ•°æ®è·å–æˆåŠŸ: å¸§ç‡=59.26fps, æ—¶é•¿=42.56ç§’
2025-03-31 10:48:37 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:31da7f909a374585ade397cd6b21b3f0 (åŸºäº video_task-1743386507404_002.mp4)
2025-03-31 10:48:37 | INFO | "./app\services\cache_manager.py:133": set_metadata - âœ… å…ƒæ•°æ®å·²å†™å…¥å†…å­˜ç¼“å­˜: video_task-1743386507404_002.mp4
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:373": _determine_processing_needs - æ ‡å‡†åŒ–æ—‹è½¬è§’åº¦: 270Â°
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:379": _determine_processing_needs - æ£€æµ‹åˆ°æ—‹è½¬è§†é¢‘ï¼šå®é™…å°ºå¯¸1920x1080ï¼Œæœ‰æ•ˆå°ºå¯¸1080x1920
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:411": _determine_processing_needs - æ£€æµ‹åˆ°è§†é¢‘æ—‹è½¬270Â°ï¼Œå°†ä½¿ç”¨ç‰©ç†æ—‹è½¬
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:416": _determine_processing_needs - ç«–å±æ—‹è½¬å†…å®¹æå‡20%ç ç‡ä»¥è¡¥å¿ç»†èŠ‚æŸå¤±
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:422": _determine_processing_needs - éœ€è¦ç¼–ç è½¬æ¢: avc -> h264
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:445": _determine_processing_needs - è§†é¢‘å¤„ç†é…ç½®: {'needs_processing': True, 'needs_rotation': True, 'needs_scaling': False, 'needs_padding': False, 'needs_encoding': True, 'needs_antialias': True, 'target_width': 1080, 'target_height': 1920, 'is_high_quality': True, 'is_4k': False, 'bitrate_boost': 1.2}
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:586": _build_filter_string - åº”ç”¨ç‰©ç†æ—‹è½¬æ»¤é•œ: transpose=2
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:593": _build_filter_string - åº”ç”¨smartbluræ»¤é•œé˜²æ­¢æ—‹è½¬å¼•èµ·çš„é”¯é½¿
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:625": _build_filter_string - æœ€ç»ˆæ»¤é•œä¸²: transpose=2,smartblur=3:0.8:0,format=yuv420p
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:464": _execute_video_processing - ä½¿ç”¨NVENCç¼–ç ï¼Œè¿›è¡ŒGPUå…¼å®¹æ€§æ£€æŸ¥...
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:479": _execute_video_processing - ä½¿ç”¨ç®€åŒ–NVIDIAç¡¬ä»¶åŠ é€Ÿè®¾ç½®
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:816": _sanitize_gpu_params - ä¼˜åŒ–h264_nvencå‚æ•°: {'preset': 'p2', 'tune': 'hq'}
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:653": _build_ffmpeg_command - åº”ç”¨ç ç‡æå‡: 15000k -> 18000k (x1.20)
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:687": _build_ffmpeg_command - FFMPEGå‘½ä»¤: ffmpeg -y -hwaccel cuda -i C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002.mp4 -vf transpose=2,smartblur=3:0.8:0,format=yuv420p -c:v h264_nvenc -b:v 18000k -maxrate 27000k -bufsize 36000k -preset p2 -tune hq -c:a aac -b:a 128k -metadata:s:v rotate=0 -metadata:s:v:0 rotate=0 C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002_processed.mp4
2025-03-31 10:48:37 | INFO | "./app\services\preprocess_video.py:700": _run_ffmpeg_command - ä½¿ç”¨ç¼–ç å™¨ h264_nvenc æ‰§è¡Œå‘½ä»¤
2025-03-31 10:48:37 | DEBUG | "./app\services\preprocess_video.py:701": _run_ffmpeg_command - å®Œæ•´å‘½ä»¤: ffmpeg -y -hwaccel cuda -i C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002.mp4 -vf transpose=2,smartblur=3:0.8:0,format=yuv420p -c:v h264_nvenc -b:v 18000k -maxrate 27000k -bufsize 36000k -preset p2 -tune hq -c:a aac -b:a 128k -metadata:s:v rotate=0 -metadata:s:v:0 rotate=0 C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002_processed.mp4
2025-03-31 10:48:38 | INFO | "./app\services\preprocess_video.py:723": _run_ffmpeg_command - å¤„ç†è¿›åº¦: frame=  200 fps=0.0 q=13.0 size=    8960KiB time=00:00:03.33 bitrate=21998.2kbits/s speed=6.39x
2025-03-31 10:48:39 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  422 fps=409 q=17.0 size=   17920KiB time=00:00:07.04 bitrate=20851.3kbits/s speed=6.82x
2025-03-31 10:48:39 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  646 fps=419 q=15.0 size=   25856KiB time=00:00:10.77 bitrate=19653.4kbits/s speed=6.98x
2025-03-31 10:48:40 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame=  874 fps=423 q=15.0 size=   34048KiB time=00:00:14.58 bitrate=19128.8kbits/s speed=7.06x
2025-03-31 10:48:40 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1086 fps=421 q=15.0 size=   41984KiB time=00:00:18.11 bitrate=18982.9kbits/s speed=7.03x
2025-03-31 10:48:41 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1316 fps=424 q=15.0 size=   50432KiB time=00:00:21.95 bitrate=18817.3kbits/s speed=7.08x
2025-03-31 10:48:41 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1541 fps=427 q=17.0 size=   59904KiB time=00:00:25.70 bitrate=19088.0kbits/s speed=7.12x
2025-03-31 10:48:42 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1765 fps=428 q=17.0 size=   68096KiB time=00:00:29.44 bitrate=18944.6kbits/s speed=7.14x
2025-03-31 10:48:42 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 1998 fps=430 q=18.0 size=   76544KiB time=00:00:33.33 bitrate=18811.5kbits/s speed=7.17x
2025-03-31 10:48:43 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 2222 fps=431 q=16.0 size=   84480KiB time=00:00:37.07 bitrate=18668.8kbits/s speed=7.19x
2025-03-31 10:48:43 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 2447 fps=432 q=14.0 size=   91904KiB time=00:00:40.82 bitrate=18442.0kbits/s speed= 7.2x
2025-03-31 10:48:43 | DEBUG | "./app\services\preprocess_video.py:726": _run_ffmpeg_command - è¿›åº¦: frame= 2522 fps=432 q=14.0 Lsize=   94738KiB time=00:00:42.07 bitrate=18445.3kbits/s speed=7.21x
2025-03-31 10:48:43 | INFO | "./app\services\preprocess_video.py:751": _run_ffmpeg_command - å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œä½¿ç”¨ç¼–ç å™¨: h264_nvenc
2025-03-31 10:48:43 | SUCCESS | "./app\services\preprocess_video.py:556": _execute_video_processing - è§†é¢‘å¤„ç†æˆåŠŸ: video_task-1743386507404_002_processed.mp4
2025-03-31 10:48:43 | INFO | "./app\services\preprocess_video.py:260": _process_materials - è§†é¢‘å¤„ç†å®Œæˆ: æ€»è®¡3ä¸ª, æˆåŠŸ3ä¸ª, å¤±è´¥0ä¸ª, è·³è¿‡0ä¸ª
2025-03-31 10:48:43 | INFO | "./app\services\task.py:176": generate_final_videos -

## combining video: 1 => G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\combined-1.mp4
2025-03-31 10:48:43 | INFO | "./app\services\video.py:84": combine_videos - ä½¿ç”¨çº¯ffmpegæ–¹æ³•åˆå¹¶è§†é¢‘
2025-03-31 10:48:43 | INFO | "./app\services\video.py:106": combine_videos - éŸ³é¢‘æ—¶é•¿: 49.344 ç§’
2025-03-31 10:48:43 | INFO | "./app\services\video.py:111": combine_videos - ç›®æ ‡è§†é¢‘åˆ†è¾¨ç‡: 1080x1920
2025-03-31 10:48:43 | INFO | "./app\services\video.py:167": combine_videos - å¤„ç†è§†é¢‘ 1/3: video_task-1743386507404_000_processed.mp4
2025-03-31 10:48:43 | INFO | "./app\services\video_metadata.py:245": get_video_metadata - ğŸ¬ è·å–è§†é¢‘å®Œæ•´å…ƒæ•°æ® | è·¯å¾„: C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000_processed.mp4
2025-03-31 10:48:43 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:ef8b1033b39326186bc192bc7594bb62 (åŸºäº video_task-1743386507404_000_processed.mp4)
2025-03-31 10:48:43 | INFO | "./app\services\cache_manager.py:103": get_metadata - â— ç¼“å­˜æœªå‘½ä¸­: video_task-1743386507404_000_processed.mp4
2025-03-31 10:48:43 | INFO | "./app\services\video_metadata.py:267": get_video_metadata - âœ… ä½¿ç”¨MediaInfoè·å–è§†é¢‘å…ƒæ•°æ®
2025-03-31 10:48:43 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000_processed.mp4
2025-03-31 10:48:43 | INFO | "./app\services\mediainfo.py:170": get_basic_metadata - ğŸ¬ MediaInfoåŸºæœ¬å…ƒæ•°æ®è·å–æˆåŠŸ: å®½=1080, é«˜=1920, æ—‹è½¬=0Â°, ç¼–ç =avc
2025-03-31 10:48:43 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000_processed.mp4
2025-03-31 10:48:43 | INFO | "./app\services\mediainfo.py:261": get_detailed_metadata - ğŸ¬ MediaInfoè¯¦ç»†å…ƒæ•°æ®è·å–æˆåŠŸ: å¸§ç‡=59.94fps, æ—¶é•¿=32.04ç§’
2025-03-31 10:48:43 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:ef8b1033b39326186bc192bc7594bb62 (åŸºäº video_task-1743386507404_000_processed.mp4)
2025-03-31 10:48:43 | INFO | "./app\services\cache_manager.py:133": set_metadata - âœ… å…ƒæ•°æ®å·²å†™å…¥å†…å­˜ç¼“å­˜: video_task-1743386507404_000_processed.mp4
2025-03-31 10:48:43 | INFO | "./app\services\video.py:182": combine_videos - è§†é¢‘ä¿¡æ¯: å®½=1080, é«˜=1920, ç¼–ç =avc, æ—‹è½¬=0Â°
2025-03-31 10:48:43 | INFO | "./app\services\video.py:201": combine_videos - è§†é¢‘å¸§ç‡: 60.0fps
2025-03-31 10:48:43 | INFO | "./app\services\video.py:313": combine_videos - ç‰‡æ®µå¤„ç†å‘½ä»¤: ffmpeg -y -ss 0 -i C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_000_processed.mp4 -t 10 -vf scale=1080:1920:force_original_aspect_ratio=1,crop=1080:1920:0:0,format=yuv420p -c:v libx264 -preset fast -crf 23 -c:a aac -b:a 128k -pix_fmt yuv420p G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\temp_combine_124677c3-59c3-45c7-b9f0-7c92a78de2ce\segment_000.mp4
2025-03-31 10:48:46 | INFO | "./app\services\video.py:345": combine_videos - åˆ›å»ºè§†é¢‘ç‰‡æ®µ: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\temp_combine_124677c3-59c3-45c7-b9f0-7c92a78de2ce\segment_000.mp4, æ—¶é•¿: 10.00ç§’
2025-03-31 10:48:46 | INFO | "./app\services\video.py:167": combine_videos - å¤„ç†è§†é¢‘ 2/3: video_task-1743386507404_001_processed.mp4
2025-03-31 10:48:46 | INFO | "./app\services\video_metadata.py:245": get_video_metadata - ğŸ¬ è·å–è§†é¢‘å®Œæ•´å…ƒæ•°æ® | è·¯å¾„: C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001_processed.mp4
2025-03-31 10:48:46 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:02ccf719516f9317c12be22f1a741fd5 (åŸºäº video_task-1743386507404_001_processed.mp4)
2025-03-31 10:48:46 | INFO | "./app\services\cache_manager.py:103": get_metadata - â— ç¼“å­˜æœªå‘½ä¸­: video_task-1743386507404_001_processed.mp4
2025-03-31 10:48:46 | INFO | "./app\services\video_metadata.py:267": get_video_metadata - âœ… ä½¿ç”¨MediaInfoè·å–è§†é¢‘å…ƒæ•°æ®
2025-03-31 10:48:46 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001_processed.mp4
2025-03-31 10:48:46 | INFO | "./app\services\mediainfo.py:170": get_basic_metadata - ğŸ¬ MediaInfoåŸºæœ¬å…ƒæ•°æ®è·å–æˆåŠŸ: å®½=1080, é«˜=1920, æ—‹è½¬=0Â°, ç¼–ç =avc
2025-03-31 10:48:46 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001_processed.mp4
2025-03-31 10:48:46 | INFO | "./app\services\mediainfo.py:261": get_detailed_metadata - ğŸ¬ MediaInfoè¯¦ç»†å…ƒæ•°æ®è·å–æˆåŠŸ: å¸§ç‡=60.00fps, æ—¶é•¿=4.16ç§’
2025-03-31 10:48:46 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:02ccf719516f9317c12be22f1a741fd5 (åŸºäº video_task-1743386507404_001_processed.mp4)
2025-03-31 10:48:46 | INFO | "./app\services\cache_manager.py:133": set_metadata - âœ… å…ƒæ•°æ®å·²å†™å…¥å†…å­˜ç¼“å­˜: video_task-1743386507404_001_processed.mp4
2025-03-31 10:48:46 | INFO | "./app\services\video.py:182": combine_videos - è§†é¢‘ä¿¡æ¯: å®½=1080, é«˜=1920, ç¼–ç =avc, æ—‹è½¬=0Â°
2025-03-31 10:48:47 | INFO | "./app\services\video.py:201": combine_videos - è§†é¢‘å¸§ç‡: 60.0fps
2025-03-31 10:48:47 | INFO | "./app\services\video.py:313": combine_videos - ç‰‡æ®µå¤„ç†å‘½ä»¤: ffmpeg -y -ss 0 -i C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_001_processed.mp4 -t 4.155 -vf scale=1080:1920:force_original_aspect_ratio=1,crop=1080:1920:0:0,format=yuv420p -c:v libx264 -preset fast -crf 23 -c:a aac -b:a 128k -pix_fmt yuv420p G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\temp_combine_124677c3-59c3-45c7-b9f0-7c92a78de2ce\segment_001.mp4
2025-03-31 10:48:48 | INFO | "./app\services\video.py:345": combine_videos - åˆ›å»ºè§†é¢‘ç‰‡æ®µ: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\temp_combine_124677c3-59c3-45c7-b9f0-7c92a78de2ce\segment_001.mp4, æ—¶é•¿: 4.16ç§’
2025-03-31 10:48:48 | INFO | "./app\services\video.py:167": combine_videos - å¤„ç†è§†é¢‘ 3/3: video_task-1743386507404_002_processed.mp4
2025-03-31 10:48:48 | INFO | "./app\services\video_metadata.py:245": get_video_metadata - ğŸ¬ è·å–è§†é¢‘å®Œæ•´å…ƒæ•°æ® | è·¯å¾„: C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002_processed.mp4
2025-03-31 10:48:48 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:58c6ddc286070341194fa2b41f3a2e85 (åŸºäº video_task-1743386507404_002_processed.mp4)
2025-03-31 10:48:48 | INFO | "./app\services\cache_manager.py:103": get_metadata - â— ç¼“å­˜æœªå‘½ä¸­: video_task-1743386507404_002_processed.mp4
2025-03-31 10:48:48 | INFO | "./app\services\video_metadata.py:267": get_video_metadata - âœ… ä½¿ç”¨MediaInfoè·å–è§†é¢‘å…ƒæ•°æ®
2025-03-31 10:48:48 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002_processed.mp4
2025-03-31 10:48:48 | INFO | "./app\services\mediainfo.py:170": get_basic_metadata - ğŸ¬ MediaInfoåŸºæœ¬å…ƒæ•°æ®è·å–æˆåŠŸ: å®½=1920, é«˜=1080, æ—‹è½¬=0Â°, ç¼–ç =avc
2025-03-31 10:48:48 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002_processed.mp4
2025-03-31 10:48:48 | INFO | "./app\services\mediainfo.py:261": get_detailed_metadata - ğŸ¬ MediaInfoè¯¦ç»†å…ƒæ•°æ®è·å–æˆåŠŸ: å¸§ç‡=59.94fps, æ—¶é•¿=42.56ç§’
2025-03-31 10:48:48 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:58c6ddc286070341194fa2b41f3a2e85 (åŸºäº video_task-1743386507404_002_processed.mp4)
2025-03-31 10:48:48 | INFO | "./app\services\cache_manager.py:133": set_metadata - âœ… å…ƒæ•°æ®å·²å†™å…¥å†…å­˜ç¼“å­˜: video_task-1743386507404_002_processed.mp4
2025-03-31 10:48:48 | INFO | "./app\services\video.py:182": combine_videos - è§†é¢‘ä¿¡æ¯: å®½=1920, é«˜=1080, ç¼–ç =avc, æ—‹è½¬=0Â°
2025-03-31 10:48:48 | INFO | "./app\services\video.py:201": combine_videos - è§†é¢‘å¸§ç‡: 59.94005994005994fps
2025-03-31 10:48:48 | INFO | "./app\services\preprocess_video.py:43": get_optimal_scale_mode - æºè§†é¢‘å°ºå¯¸(1920x1080)å°äºç›®æ ‡å°ºå¯¸(1080x1920)ï¼Œä½¿ç”¨å¡«å……æ¨¡å¼
2025-03-31 10:48:48 | INFO | "./app\services\video.py:313": combine_videos - ç‰‡æ®µå¤„ç†å‘½ä»¤: ffmpeg -y -ss 0 -i C:\Users\ADMINI~1\AppData\Local\Temp\mix_videos_task-1743386507404_9mu9c_1z\video_task-1743386507404_002_processed.mp4 -t 10 -vf scale=1080:607:force_original_aspect_ratio=1,pad=1080:1920:0:656:color=black,format=yuv420p -c:v libx264 -preset fast -crf 23 -c:a aac -b:a 128k -pix_fmt yuv420p G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\temp_combine_124677c3-59c3-45c7-b9f0-7c92a78de2ce\segment_002.mp4
2025-03-31 10:48:50 | INFO | "./app\services\video.py:345": combine_videos - åˆ›å»ºè§†é¢‘ç‰‡æ®µ: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\temp_combine_124677c3-59c3-45c7-b9f0-7c92a78de2ce\segment_002.mp4, æ—¶é•¿: 10.00ç§’
2025-03-31 10:48:50 | INFO | "./app\services\video.py:405": combine_videos - è§†é¢‘åˆæˆæˆåŠŸ: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\combined-1.mp4
2025-03-31 10:48:50 | INFO | "./app\services\task.py:193": generate_final_videos - 

## generating video: 1 => G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\final-1.mp4
2025-03-31 10:48:50 | INFO | "./app\services\video.py:442": generate_video - ä½¿ç”¨ffmpegç”Ÿæˆè§†é¢‘
2025-03-31 10:48:50 | INFO | "./app\services\video.py:456": generate_video - æœ€å¤§è§†é¢‘å°ºå¯¸: 1080 x 1920
2025-03-31 10:48:50 | INFO | "./app\services\video.py:457": generate_video - è§†é¢‘: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\combined-1.mp4
2025-03-31 10:48:50 | INFO | "./app\services\video.py:458": generate_video - éŸ³é¢‘: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\audio.mp3
2025-03-31 10:48:50 | INFO | "./app\services\video.py:459": generate_video - å­—å¹•: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\subtitle.srt
2025-03-31 10:48:50 | INFO | "./app\services\video.py:460": generate_video - è¾“å‡º: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\final-1.mp4
2025-03-31 10:48:50 | INFO | "./app\services\video.py:469": generate_video - ä½¿ç”¨NVIDIAç¡¬ä»¶åŠ é€Ÿç¼–ç 
2025-03-31 10:48:50 | INFO | "./app\services\video_metadata.py:245": get_video_metadata - ğŸ¬ è·å–è§†é¢‘å®Œæ•´å…ƒæ•°æ® | è·¯å¾„: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\combined-1.mp4
2025-03-31 10:48:50 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:f19f2ee68e60f4fc85b72b99ef910d48 (åŸºäº combined-1.mp4)
2025-03-31 10:48:50 | INFO | "./app\services\cache_manager.py:103": get_metadata - â— ç¼“å­˜æœªå‘½ä¸­: combined-1.mp4
2025-03-31 10:48:50 | INFO | "./app\services\video_metadata.py:267": get_video_metadata - âœ… ä½¿ç”¨MediaInfoè·å–è§†é¢‘å…ƒæ•°æ®
2025-03-31 10:48:50 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\combined-1.mp4
2025-03-31 10:48:50 | INFO | "./app\services\mediainfo.py:170": get_basic_metadata - ğŸ¬ MediaInfoåŸºæœ¬å…ƒæ•°æ®è·å–æˆåŠŸ: å®½=1080, é«˜=1920, æ—‹è½¬=0Â°, ç¼–ç =avc
2025-03-31 10:48:50 | DEBUG | "./app\services\mediainfo.py:48": _execute_mediainfo - ğŸ” æ‰§è¡Œå‘½ä»¤: mediainfo --Output=JSON G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\combined-1.mp4
2025-03-31 10:48:50 | INFO | "./app\services\mediainfo.py:261": get_detailed_metadata - ğŸ¬ MediaInfoè¯¦ç»†å…ƒæ•°æ®è·å–æˆåŠŸ: å¸§ç‡=15.38fps, æ—¶é•¿=84.14ç§’
2025-03-31 10:48:50 | DEBUG | "./app\services\cache_manager.py:67": generate_key - ç”Ÿæˆç¼“å­˜é”®: video:metadata:f19f2ee68e60f4fc85b72b99ef910d48 (åŸºäº combined-1.mp4)
2025-03-31 10:48:50 | INFO | "./app\services\cache_manager.py:133": set_metadata - âœ… å…ƒæ•°æ®å·²å†™å…¥å†…å­˜ç¼“å­˜: combined-1.mp4
2025-03-31 10:48:50 | INFO | "./app\services\video.py:486": generate_video - è§†é¢‘ç‰¹æ€§: å®½=1080, é«˜=1920, ç¼–ç =avc, æ—‹è½¬=0Â°
2025-03-31 10:48:50 | INFO | "./app\services\video.py:488": generate_video - è§†é¢‘åˆ†ç±»: 4K=False, é«˜æ¸…=True, éœ€è¦æ—‹è½¬=False
2025-03-31 10:48:50 | INFO | "./app\services\video.py:504": generate_video - ä¼˜åŒ–åçš„ç¼–ç å‚æ•°: {'bitrate': 15000, 'maxrate': 22500, 'bufsize': 45000, 'refs': 5, 'g': 30, 'preset': 'p7', 'tune': 'hq', 'multipass': 'fullres', 'spatial-aq': '1', 'temporal-aq': '1', 'aq-strength': '15', 'rc-lookahead': '40', 'surfaces': '64', 'gpu': '0', 'b_ref_mode': 'middle'}
2025-03-31 10:48:50 | INFO | "./app\services\video_processing.py:131": build_filter_string - æœ€ç»ˆæ»¤é•œä¸²: format=yuv420p
2025-03-31 10:48:50 | INFO | "./app\services\video.py:564": generate_video - å¤„ç†è§†é¢‘ä¸­... åº”ç”¨æ»¤é•œ: format=yuv420p,format=yuv420p
2025-03-31 10:48:52 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=    5 fps=0.0 q=16.0 size=     256KiB time=00:00:00.05 bitrate=41950.7kbits/s speed=0.098x
2025-03-31 10:48:52 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=   91 fps= 89 q=12.0 size=    3328KiB time=00:00:01.48 bitrate=18379.8kbits/s speed=1.44x
2025-03-31 10:48:53 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=  176 fps=114 q=20.0 size=    6656KiB time=00:00:02.90 bitrate=18802.2kbits/s speed=1.88x
2025-03-31 10:48:53 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=  264 fps=128 q=27.0 size=    9472KiB time=00:00:04.36 bitrate=17769.8kbits/s speed=2.12x
2025-03-31 10:48:54 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=  355 fps=138 q=23.0 size=   11776KiB time=00:00:05.88 bitrate=16397.1kbits/s speed=2.28x
2025-03-31 10:48:54 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=  445 fps=144 q=21.0 size=   13824KiB time=00:00:07.38 bitrate=15338.1kbits/s speed=2.38x
2025-03-31 10:48:55 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=  535 fps=148 q=21.0 size=   16384KiB time=00:00:08.88 bitrate=15109.0kbits/s speed=2.46x
2025-03-31 10:48:55 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=  625 fps=151 q=24.0 size=   19200KiB time=00:00:10.38 bitrate=15148.0kbits/s speed=2.51x
2025-03-31 10:48:55 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=  727 fps=156 q=21.0 size=   21504KiB time=00:00:12.08 bitrate=14578.9kbits/s speed=2.59x
2025-03-31 10:48:56 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=  821 fps=159 q=20.0 size=   24064KiB time=00:00:13.65 bitrate=14442.0kbits/s speed=2.64x
2025-03-31 10:48:57 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame=  934 fps=164 q=1.0 size=   26624KiB time=00:01:00.61 bitrate=3598.1kbits/s speed=10.7x
2025-03-31 10:48:57 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame= 1052 fps=170 q=3.0 size=   29440KiB time=00:01:08.30 bitrate=3531.1kbits/s speed=  11x
2025-03-31 10:48:58 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame= 1164 fps=173 q=5.0 size=   32256KiB time=00:01:15.60 bitrate=3495.3kbits/s speed=11.3x
2025-03-31 10:48:58 | INFO | "./app\services\video.py:581": generate_video - è§†é¢‘å¤„ç†è¿›åº¦: frame= 1292 fps=180 q=5.0 Lsize=   36118KiB time=00:01:23.93 bitrate=3525.1kbits/s speed=11.7x
2025-03-31 10:48:58 | INFO | "./app\services\video.py:626": generate_video - å¤„ç†èƒŒæ™¯éŸ³ä¹...
2025-03-31 10:48:58 | INFO | "./app\services\video.py:660": generate_video - è½¬æ¢å­—å¹•æ ¼å¼...
2025-03-31 10:48:58 | DEBUG | "./app\services\video.py:667": generate_video - åŸå§‹å­—å¹•è·¯å¾„: G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\subtitle.ass
2025-03-31 10:48:58 | DEBUG | "./app\services\video.py:668": generate_video - å¤„ç†åè·¯å¾„ (1): G:/MoneyPrinterTurbo/storage/tasks/19a92ba1-9086-4597-a2c0-d4d6460b185e/subtitle.ass
2025-03-31 10:48:58 | DEBUG | "./app\services\video.py:676": generate_video - Windowsè·¯å¾„å¤„ç† (2): G\:/MoneyPrinterTurbo/storage/tasks/19a92ba1-9086-4597-a2c0-d4d6460b185e/subtitle.ass
2025-03-31 10:48:58 | DEBUG | "./app\services\video.py:681": generate_video - æ·»åŠ å¼•å· (3): 'G\:/MoneyPrinterTurbo/storage/tasks/19a92ba1-9086-4597-a2c0-d4d6460b185e/subtitle.ass'
2025-03-31 10:48:58 | INFO | "./app\services\video.py:695": generate_video - å­—å¹•æ»¤é•œè®¾ç½®: subtitles='G\:/MoneyPrinterTurbo/storage/tasks/19a92ba1-9086-4597-a2c0-d4d6460b185e/subtitle.ass':force_style='FontName=MicrosoftYaHeiNormal.ttc,FontSize=8,PrimaryColour=&HFFFFFF&,OutlineColour=&H000000&,BorderStyle=1,Outline=1.5,Alignment=2,MarginV=50'
2025-03-31 10:48:58 | INFO | "./app\services\video.py:730": generate_video - è§†é¢‘å°ºå¯¸: 1080x1920
2025-03-31 10:48:58 | INFO | "./app\services\video.py:762": generate_video - å¤„ç†éŸ³é¢‘...
2025-03-31 10:48:59 | INFO | "./app\services\video.py:777": generate_video - ç”Ÿæˆæœ€ç»ˆè§†é¢‘...
2025-03-31 10:48:59 | INFO | "./app\services\video.py:828": generate_video - ç”Ÿæˆæœ€ç»ˆè§†é¢‘... å‘½ä»¤: ffmpeg -y -i G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\processed_e80b1485-4ab9-4036-9a57-fd284f766476.mp4 -i G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\merged_audio.m4a -vf subtitles='G\:/MoneyPrinterTurbo/storage/tasks/19a92ba1-9086-4597-a2c0-d4d6460b185e/subtitle.ass':force_style='FontName=MicrosoftYaHeiNormal.ttc,FontSize=8,PrimaryColour=&HFFFFFF&,OutlineColour=&H000000&,BorderStyle=1,Outline=1.5,Alignment=2,MarginV=50' -map 0:v -map 1:a -c:v h264_nvenc -preset p1 -c:a aac -b:a 192k -shortest -movflags +faststart -pix_fmt yuv420p G:\MoneyPrinterTurbo\storage\tasks\19a92ba1-9086-4597-a2c0-d4d6460b185e\final-1.mp4
2025-03-31 10:49:00 | INFO | "./app\services\video.py:846": generate_video - æœ€ç»ˆåˆæˆè¿›åº¦: frame=  444 fps=0.0 q=22.0 size=    3072KiB time=00:00:07.40 bitrate=3400.8kbits/s speed=14.4x
2025-03-31 10:49:00 | INFO | "./app\services\video.py:846": generate_video - æœ€ç»ˆåˆæˆè¿›åº¦: frame=  847 fps=816 q=43.0 size=    4864KiB time=00:00:14.11 bitrate=2822.6kbits/s speed=13.6x
2025-03-31 10:49:00 | INFO | "./app\services\video.py:846": generate_video - æœ€ç»ˆåˆæˆè¿›åº¦: frame=  874 fps=605 q=20.0 Lsize=    5493KiB time=00:00:49.36 bitrate= 911.6kbits/s speed=34.2x
2025-03-31 10:49:00 | SUCCESS | "./app\services\video.py:856": generate_video - è§†é¢‘ç”ŸæˆæˆåŠŸ: final-1.mp4
2025-03-31 10:49:00 | SUCCESS | "./app\services\task.py:313": start - task 19a92ba1-9086-4597-a2c0-d4d6460b185e finished, generated 1 videos.
2025-03-31 10:49:16 | SUCCESS | "./app\controllers\v1\video.py:158": delete_video - video deleted: {
    "state": 1,
    "progress": 100,
    "videos": [
        "http://127.0.0.1:3004/tasks/19a92ba1-9086-4597-a2c0-d4d6460b185e/final-1.mp4"
    ],
    "combined_videos": [
        "http://127.0.0.1:3004/tasks/19a92ba1-9086-4597-a2c0-d4d6460b185e/combined-1.mp4"
    ],
    "script": "90%è€æ¿éƒ½ä¸çŸ¥é“ï¼Œé€‰å¯¹ç²‰ç¢æœºï¼Œæ¯å¹´å¯çœä¸‹å‡ ä¸‡ç”šè‡³å‡ åä¸‡ï¼æ‚¨æ˜¯å¦è¿˜åœ¨ä¸ºä¼ ç»Ÿç²‰ç¢æœºç²‰ç¢ä¸å‡ã€å¡æ–™ã€è¿‡çƒ­ã€æ•ˆç‡ä½è€Œå¤´ç—›ï¼Ÿç‰‡æ®µ1ï¼šçœ‹æˆ‘ä»¬å·¥å‚ç ”å‘çš„è¾£æ¤’ç²‰ç¢æœºï¼Œå¿«é€Ÿç²‰ç¢ ï¼Œé¢—ç²’å‡åŒ€ï¼Œçœæ—¶çœåŠ›ï¼ç²¾ç»†ç ”ç£¨200ç›®ï¼Œå˜é¢‘è°ƒé€Ÿï¼Œæ™ºèƒ½æ§æ¸©ï¼Œç‰‡æ®µ2ï¼šè¿›æ–™é¡ºç•…ï¼Œæ“ä½œç®€ä¾¿ï¼Œé£Ÿå“çº§ä¸é”ˆé’¢ï¼Œä¸€æœºå¤šç”¨ï¼Œç‰‡æ®µ3ï¼šæ¹–å—é£Ÿå“å‚å®¢æˆ·è§è¯ï¼šç”¨äº†æˆ‘ä»¬çš„è¾£æ¤’ç²‰ç¢æœºï¼Œç”Ÿäº§æ•ˆç‡æå‡3å€ï¼Œæ¯å¹´èŠ‚çœ1ä¸‡ç”µè´¹ï¼å‚å®¶ç›´é”€ï¼Œé™æ—¶é€è¿è´¹ï¼Œ0é£é™©è¯•ç”¨ï¼Œæ»¡æ„å†ä»˜æ¬¾ï¼è¯„è®ºåŒºå›å¤ã€ç²‰ç¢æœºã€‘ï¼Œé¢†å–å…è´¹è¯•æœºåé¢ï¼",
    "terms": "",
    "audio_file": "G:\\MoneyPrinterTurbo\\storage\\tasks\\19a92ba1-9086-4597-a2c0-d4d6460b185e\\audio.mp3",
    "audio_duration": 49,
    "subtitle_path": "G:\\MoneyPrinterTurbo\\storage\\tasks\\19a92ba1-9086-4597-a2c0-d4d6460b185e\\subtitle.srt",
    "materials": [
        "C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\mix_videos_task-1743386507404_9mu9c_1z\\video_task-1743386507404_000_processed.mp4",
        "C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\mix_videos_task-1743386507404_9mu9c_1z\\video_task-1743386507404_001_processed.mp4",
        "C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\mix_videos_task-1743386507404_9mu9c_1z\\video_task-1743386507404_002_processed.mp4"
    ]
}
